
div(class="modeless col-sm-12 col-sx-10", id="idMapLinkrPlugin", role="dialog",
    aria-labelledby="mapLinkrLabel", aria-hidden="true")
    div(class="modal-content")
        div(class="modal-header")
            span
                div(id="mapLinkrLabel", class="modal-title col-sm-12", style="font-size: 1.5rem")
                    MapLinkr
                    button(type="button", class="close col-sm-1 col-xs-6",
                        data-dismiss="modal", aria-hidden="true", ng-click="cancel()") &times

        div(class="modal-body")
            div(id="mapLinkrInfo", role="tablist", aria-multiselectable="true")
                div(class="card")
                    div(class="card-header", role="tab", id="idLatestNews")
                        button(class="btn", data-toggle="collapse",
                            ng-click="onShowHideMapLinkrClicked('news')",
                            data-target="#idLatestNewsCard", aria-expanded="false",
                            aria-controls="idLatestNewsCard")
                            span
                            | MapLinkr News
                            img(class='accdionchevron-right',
                                ng-class="{'accdionchevron-right': mldata['news'].isCollapsed, \
                                'accdionchevron-down': !mldata['news'].isCollapsed}")

                    div(id="idLatestNewsCard", class="card-collapse collapse", role="tabpanel",
                        uib-collapse="mldata['news'].isCollapsed",
                        aria-labelledby="idLatestNews")
                        div(class="card card-block")
                            div(class="container")
                                div(style='font-size:1.25em;border:2px solid red;margin:1px;padding:2px;')
                                    h4(style="color:red") Latest Release
                                    h5(style="color:red")
                                        | Release notes will appear here as new features are added to the MapLinkr plug-in.
                                    h5
                                        | Select the MapLinkr Instruction accordion pane below for step-by-step help.

                                h4 OTHER GREAT STUFF
                                br

                                img(ng-src="../stylesheets/images/WindowWashers.png", width="95%" height="95%")

                                br
                                h5 Wallace and Gromit Use MapLinkr.
                                p(style='font-size: 1.2em;color: #333333; border:2px solid green;margin:1px;padding:2px;').
                                    Wallace and Gromit have improved the efficiency of their window washing service by incorporating community maps of reported dirty windows.
                                br

                div(class="card")
                    div(class="card-header", role="tab", id="idUsingMapLinkr")
                        button(class="btn", data-toggle="collapse",
                            ng-click="onShowHideMapLinkrClicked('using')",
                            data-target="#idUsingMapLinkrCard", aria-expanded="false",
                            aria-controls="idUsingMapLinkrCard")
                            span
                            | Using MapLinkr
                            img(class='accdionchevron-right',
                                ng-class="{'accdionchevron-right': mldata['using'].isCollapsed, \
                                'accdionchevron-down': !mldata['using'].isCollapsed}")

                    div(id="idUsingMapLinkrCard", class="card-collapse collapse", role="tabpanel",
                        uib-collapse="mldata['using'].isCollapsed",
                        aria-labelledby="idUsingMapLinkr")
                        div(class="card card-block")
                            div(class="container")

                                p(style='font-size:1.1em;margin:0.3em')
                                    | MapLinkr allows viewing mulitple synchronized maps in separate windows.  The maps can use
                                    |  base maps or different themes for overlays.  Unlike standard layer overlays in a
                                    | single viewer, the base layers and overlays do not interfere with the visibility
                                    | of other selected layers.

                                p(style='font-size:1.1em;margin:0.3em;')
                                    | Linked maps can be created from three map viewer sources, if the viewer system incorporates
                                    | the MapLinkr plug-in.

                                ul#MapTypes(style="height:100%")
                                    li(class="acc li") 1  A web page with an ArcGIS webmap viewer.
                                    li(class="acc li") 2  A web page with a google map display.
                                    li(class="acc li") 3  A web page with an open source map display.

                                h3( style="text-align:left") Steps for Google and Leaflet maps
                                p(style='font-size:0.75em;margin:0.3em')

                                    | Pan and zoom a Google or Leaflet map to the desired extent.  In a Google map display, the search tool will appear.  Enter a search category to display search results on the map.

                                p(style='font-size:1.1em;margin:0.3em')
                                    | Further sharing instructions are provided under the "Sharing Overview" accordion pane.

                                h3( style="text-align:left") Steps for ArcGIS Online search

                                ul#StepsList(style="height:100%")
                                    li(class="acc li") 1. Open the accordion pane for group search.  Enter a search term and click the submit button.
                                    li(class="acc li") 2. The group pane displays groups matching the search term.  Click on one of the groups.
                                    li(class="acc li") 3. The map selection pane opens showing available maps in the group.  Click on a map item.  A dialog opens offering a choice of three possible destination viewers where the selected map can be displayed.  The most convenient option is usually the "New Window" option.

                                        div(id="repeater", ng-repeat="(key, val) in mldata.using.destchoices", class="ng-scope")
                                            div(class="card")
                                                div(class="card-header", role="tab", id="destHeader{{key}}")
                                                    button(class="btn", data-toggle="collapse",
                                                        ng-click="onShowHideDestChoiceClicked(key)",
                                                        data-target="#destChoice{{key}}", aria-expanded="false",
                                                        aria-controls="destChoice{{key}}")
                                                        span
                                                        | Choice {{key}}
                                                        img(class='accdionchevron-right',
                                                            ng-class="{'accdionchevron-right': mldata.using.current['{{key}}'], \
                                                            'accdionchevron-down': !mldata.using.current['{{key}}']}")

                                                    div(id="destChoice{{key}}", class="card-collapse in collapse", role="tabpanel",
                                                        uib-collapse="mldata.using.current['{{key}}']",
                                                        aria-labelledby="destHeader{{key}}")
                                                        div(class="card card-block")
                                                            div(class="container")
                                                            | {{val.details.text}}

                                    li(class="acc li") 4. Create a Pusher channel.  A second dialog opens, requesting a Pusher channel name.  Specify a name that  will be unique for the shared session.

                                h3( style="text-align:left;") Experiment with synchronized maps:

                                ul#StepsListSynch(style="height:100%;")

                                    li(class="acc li", style="font-weight:bolder") a. Resize and move any open map viewer windows so that they are simultaneously visible.
                                    li(class="acc li", style="font-weight:bolder") b. Pan and zoom any map.  Maps in other synchronized viewers should pan and zoom to the same location and scale.
                                    li(class="acc li", style="font-weight:bolder") c. Click on any open map.  A popup will show either information for the item at the map location or the coordinates/address of the click.  A popup will appear at the same location in other map viewers with location information at the same point.

                div(class="card")
                    div(class="card-header", role="tab", id="idGroupSearcher")
                        button(class="btn", data-toggle="collapse",
                            ng-click="onShowHideMapLinkrClicked('groups')",
                            data-target="#idGroupSearcherCard", aria-expanded="false",
                            aria-controls="idGroupSearcherCard")
                            span
                            | AGO Group Search
                            img(class='accdionchevron-right',
                                ng-class="{'accdionchevron-right': mldata['groups'].isCollapsed, \
                                'accdionchevron-down': !mldata['groups'].isCollapsed}")

                    div(id="idGroupSearcherCard", class="card-collapse collapse", role="tabpanel",
                        uib-collapse="mldata['groups'].isCollapsed",
                        aria-labelledby="idGroupSearcher")
                        div(class="card card-block")
                            div(class="container")

                                #SearchGroup
                                    div(id="searchToolWrapperGroup")
                                        span
                                            label(id='grpSearchLabel', for='signInGroup', style='font-size:12pt;') AGO Group Search

                                            input(type="button", class="btn", id="signInGroup", name="signInGroup", ng-click='signInFromGroupTab();', style='width:30%;font-size:80%', value='{{signInOutGrp}}')

                                        h5(id="grpSrchInstId", style='padding:2px 3px;margin: 2px 3px;') Find group ids based on search term. Sign-in to search for private groups.
                                        span
                                            input(name="groupFinder", id="groupFinder", ng-model="searchTermGrp", ng-enter="findArcGISGroup();")
                                            input(name="groupFinderSubmit", ng-disabled='findGrpDisabled', type="submit", value="Submit", id="groupFinderSubmit", class='btn', ng-click="findArcGISGroup();")

                                        div(id='gridpaneGroup', style="overflow: hidden; padding: 3px;background-color:#6E9096;", ng-style="getGridStyleWrapper()")
                                            div(id="grpGridId", ng-grid="gridGrpOptions", ng-style="getGridStyleGroup()", style="margin:1px;")
